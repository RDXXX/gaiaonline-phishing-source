/*!
 * cache=true
 * @license Licences are viewable at this URL: https://gaia.hs.llnwd.net/e2/src/=/e143bb5df5304ae98988a03a4dabca2e-1449-51/pkg-login.js
 */


/*! src/js/login/login-utils-min.js */
YAHOO.namespace("gaia.util.Dom");YAHOO.gaia.util.Dom.addSlashes=function(d){var c=[],b=d.split("");for(var a=0;a<b.length;a++){switch(b[a]){case"'":case'"':case"\\":c.push("\\");default:c.push(b[a]);break}}return c.join("")};
/*! src/js/login/md5-min.js */
var MD5=(function(){function f(y,s){y[s>>5]|=128<<((s)%32);y[(((s+64)>>>9)<<4)+14]=s;var w=1732584193;var v=-271733879;var u=-1732584194;var t=271733878;for(var p=0;p<y.length;p+=16){var r=w;var q=v;var o=u;var n=t;w=i(w,v,u,t,y[p+0],7,-680876936);t=i(t,w,v,u,y[p+1],12,-389564586);u=i(u,t,w,v,y[p+2],17,606105819);v=i(v,u,t,w,y[p+3],22,-1044525330);w=i(w,v,u,t,y[p+4],7,-176418897);t=i(t,w,v,u,y[p+5],12,1200080426);u=i(u,t,w,v,y[p+6],17,-1473231341);v=i(v,u,t,w,y[p+7],22,-45705983);w=i(w,v,u,t,y[p+8],7,1770035416);t=i(t,w,v,u,y[p+9],12,-1958414417);u=i(u,t,w,v,y[p+10],17,-42063);v=i(v,u,t,w,y[p+11],22,-1990404162);w=i(w,v,u,t,y[p+12],7,1804603682);t=i(t,w,v,u,y[p+13],12,-40341101);u=i(u,t,w,v,y[p+14],17,-1502002290);v=i(v,u,t,w,y[p+15],22,1236535329);w=c(w,v,u,t,y[p+1],5,-165796510);t=c(t,w,v,u,y[p+6],9,-1069501632);u=c(u,t,w,v,y[p+11],14,643717713);v=c(v,u,t,w,y[p+0],20,-373897302);w=c(w,v,u,t,y[p+5],5,-701558691);t=c(t,w,v,u,y[p+10],9,38016083);u=c(u,t,w,v,y[p+15],14,-660478335);v=c(v,u,t,w,y[p+4],20,-405537848);w=c(w,v,u,t,y[p+9],5,568446438);t=c(t,w,v,u,y[p+14],9,-1019803690);u=c(u,t,w,v,y[p+3],14,-187363961);v=c(v,u,t,w,y[p+8],20,1163531501);w=c(w,v,u,t,y[p+13],5,-1444681467);t=c(t,w,v,u,y[p+2],9,-51403784);u=c(u,t,w,v,y[p+7],14,1735328473);v=c(v,u,t,w,y[p+12],20,-1926607734);w=k(w,v,u,t,y[p+5],4,-378558);t=k(t,w,v,u,y[p+8],11,-2022574463);u=k(u,t,w,v,y[p+11],16,1839030562);v=k(v,u,t,w,y[p+14],23,-35309556);w=k(w,v,u,t,y[p+1],4,-1530992060);t=k(t,w,v,u,y[p+4],11,1272893353);u=k(u,t,w,v,y[p+7],16,-155497632);v=k(v,u,t,w,y[p+10],23,-1094730640);w=k(w,v,u,t,y[p+13],4,681279174);t=k(t,w,v,u,y[p+0],11,-358537222);u=k(u,t,w,v,y[p+3],16,-722521979);v=k(v,u,t,w,y[p+6],23,76029189);w=k(w,v,u,t,y[p+9],4,-640364487);t=k(t,w,v,u,y[p+12],11,-421815835);u=k(u,t,w,v,y[p+15],16,530742520);v=k(v,u,t,w,y[p+2],23,-995338651);w=g(w,v,u,t,y[p+0],6,-198630844);t=g(t,w,v,u,y[p+7],10,1126891415);u=g(u,t,w,v,y[p+14],15,-1416354905);v=g(v,u,t,w,y[p+5],21,-57434055);w=g(w,v,u,t,y[p+12],6,1700485571);t=g(t,w,v,u,y[p+3],10,-1894986606);u=g(u,t,w,v,y[p+10],15,-1051523);v=g(v,u,t,w,y[p+1],21,-2054922799);w=g(w,v,u,t,y[p+8],6,1873313359);t=g(t,w,v,u,y[p+15],10,-30611744);u=g(u,t,w,v,y[p+6],15,-1560198380);v=g(v,u,t,w,y[p+13],21,1309151649);w=g(w,v,u,t,y[p+4],6,-145523070);t=g(t,w,v,u,y[p+11],10,-1120210379);u=g(u,t,w,v,y[p+2],15,718787259);v=g(v,u,t,w,y[p+9],21,-343485551);w=h(w,r);v=h(v,q);u=h(u,o);t=h(t,n)}return[w,v,u,t]}function b(v,p,o,n,u,r){return h(j(h(h(p,v),h(n,r)),u),o)}function i(p,o,v,u,n,r,q){return b((o&v)|((~o)&u),p,o,n,r,q)}function c(p,o,v,u,n,r,q){return b((o&u)|(v&(~u)),p,o,n,r,q)}function k(p,o,v,u,n,r,q){return b(o^v^u,p,o,n,r,q)}function g(p,o,v,u,n,r,q){return b(v^(o|(~u)),p,o,n,r,q)}function d(p,s){var r=a(p);if(r.length>16){r=f(r,p.length*MD5.chrsz)}var n=[],q=[];for(var o=0;o<16;o++){n[o]=r[o]^909522486;q[o]=r[o]^1549556828}var t=f(n.concat(a(s)),512+s.length*MD5.chrsz);return f(q.concat(t),512+128)}function h(n,q){var p=(n&65535)+(q&65535);var o=(n>>16)+(q>>16)+(p>>16);return(o<<16)|(p&65535)}function j(n,o){return(n<<o)|(n>>>(32-o))}function a(q){var p=[],r=MD5.chrsz;var n=(1<<r)-1;for(var o=0;o<q.length*r;o+=r){p[o>>5]|=(q.charCodeAt(o/r)&n)<<(o%32)}return p}function e(p){var q="",r=MD5.chrsz;var n=(1<<r)-1;for(var o=0;o<p.length*32;o+=r){q+=String.fromCharCode((p[o>>5]>>>(o%32))&n)}return q}function m(p){var o=MD5.hexcase?"0123456789ABCDEF":"0123456789abcdef";var q="";for(var n=0;n<p.length*4;n++){q+=o.charAt((p[n>>2]>>((n%4)*8+4))&15)+o.charAt((p[n>>2]>>((n%4)*8))&15)}return q}function l(q){var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var s="";for(var o=0;o<q.length*4;o+=3){var r=(((q[o>>2]>>8*(o%4))&255)<<16)|(((q[o+1>>2]>>8*((o+1)%4))&255)<<8)|((q[o+2>>2]>>8*((o+2)%4))&255);for(var n=0;n<4;n++){if(o*8+n*6>q.length*32){s+=MD5.b64pad}else{s+=p.charAt((r>>6*(3-n))&63)}}}return s}return{hexcase:0,b64pad:"",chrsz:8,hex:function(n){return m(f(a(n),n.length*MD5.chrsz))},base64:function(n){return l(f(a(n),n.length*MD5.chrsz))},string:function(n){return e(f(a(n),n.length*MD5.chrsz))},hmac:{hex:function(n,o){return m(d(n,o))},base64:function(n,o){return l(d(n,o))},string:function(n,o){return e(d(n,o))}},test:function(){return this.hex("abc")=="900150983cd24fb0d6963f7d28e17f72"}}})();
/*! src/js/login/password-min.js */
(function(d){var a=YAHOO.util,c=a.Event,e=a.Dom,b=function(f){var g={passwordInput:"password",tokenInput:"token",chapInput:"chap",form:undefined},h=function(k){var j;if("object"===typeof k){for(j in k){g[j]=k[j]}}};h(f);return{setConfig:h,init:function(){c.on(g.form,"submit",this.hijackForm,this)},hijackForm:function(j,n){var p=g.passwordInput,i=g.chapInput,l=g.form,k,o;o=l[p].value;try{n.createChap()}catch(m){k=l[i];if(k){l.removeChild(k)}l[p]=o}},createChap:function(){var l,j=g.form,n=g.chapInput,i=g.tokenInput,k=["",j[i].value,""].join(""),m;l=j[g.passwordInput].value;if(l===""){return}l=""+YAHOO.gaia.util.Dom.addSlashes(""+l);if(!j[n]){m=d.createElement("input");m.name=n;m.id=n;m.type="hidden";j.appendChild(m)}j[n].value=MD5.hex(MD5.hex(l)+k);j[g.passwordInput].value=""}}};YAHOO.namespace("gaia.util.Dom");YAHOO.namespace("gaia.app");YAHOO.gaia.app.PasswordEncrypter=b}(document));
/*! src/js/login/loginform-min.js */
YAHOO.namespace("gaia.app");YAHOO.gaia.app.Login={passwordEncrypter:new YAHOO.gaia.app.PasswordEncrypter(),removeOldError:function(){var b=YAHOO.util,d=b.Event,f=b.Dom,e=f.get("usernamerow"),g=f.get("loginerror"),a,c;if(g){d.purgeElement(g);c=e.removeChild(g);while(a=c.firstChild){c.removeChild(a)}return c}return false},showError:function(f){var e=document,b=YAHOO.util,h=b.Dom,c=this.removeOldError(),g=h.get("usernamerow"),a,d;if(!c){c=e.createElement("span");c.id="loginerror"}c.className="generalerror error";c.appendChild(e.createTextNode(f));if(YAHOO.env.ua.ie!==6){h.setStyle(c,"opacity",0);g.appendChild(c);a={opacity:{from:0,to:1}};d=new b.Anim(c,a,1);d.animate()}else{g.appendChild(c)}},hijackForm:function(n){var e=YAHOO.gaia.app.Login,d=YAHOO.util,i=d.Event,k="username",b="password",g="staffpassword",h="token",f="chap",m="",j=false,l,a;if(this[k].value===""){e.showError("Enter your username");i.stopEvent(n);return false}if((this[b]&&this[b].value==="")||(this[g]&&this[g].value==="")){e.showError("Enter your password");i.stopEvent(n);return false}if(this[b]){m=this[b].value;j=false}else{m=this[g].value;j=true}if(this[h]&&this[h].value){try{e.passwordEncrypter.setConfig({passwordInput:j?g:b,tokenInput:h,chapInput:f,form:this});e.passwordEncrypter.createChap()}catch(c){if(this[f]){this.removeChild(this[f])}this[j?g:b].value=m}}},init:function(){var c=YAHOO.util,b=YAHOO.widget,d=c.Event,f=c.Dom,e="memberloginForm",a;this.loginForm=f.get(e);d.on(this.loginForm,"submit",this.hijackForm);d.on("fb","click",function(g){d.preventDefault(g);f.replaceClass("memberLoginChoices","login-tab-selected","facebook-tab-selected")});d.on("login","click",function(g){d.preventDefault(g);f.replaceClass("memberLoginChoices","facebook-tab-selected","login-tab-selected")});a=function(){var h=YAHOO.util,i=h.Dom,j=i.get("username"),g=i.get("password");if(j){if(j.value!==""){i.removeClass(j,"header-login-input-username-default")}else{i.addClass(j,"header-login-input-username-default")}}if(g){if(g.value!==""){i.removeClass(g,"header-login-input-password-default")}else{i.addClass(g,"header-login-input-password-default")}}};d.on("username","focus",a);d.on("password","focus",a);d.on("username","blur",a);d.on("password","blur",a);d.on("username","keyup",a);d.on("password","keyup",a);d.onDOMReady(a);d.on(window,"load",function(g){setTimeout(a,50)})}};YAHOO.gaia.app.Login.init();YAHOO.namespace("gaia.facebookRegistration");YAHOO.gaia.facebookRegistration.init=function(f){var b=document.getElementsByTagName("a"),a=b.length,e=YAHOO.util,g=e.Event,d,c=function(h){YAHOO.gaia.facebook_connect_button.openFBLogin(f);g.stopEvent(h)};for(d=0;d<a;d++){if(b[d].href.indexOf("register")>-1){b[d].href="#";g.on(b[d],"click",c)}}};